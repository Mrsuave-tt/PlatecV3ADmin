{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vincent\\\\Desktop\\\\attendance-system\\\\mobile\\\\App.js\";\nimport React, { useEffect } from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { AuthProvider, useAuth } from './src/contexts/AuthContext';\nimport { auth } from './src/services/firebase';\nimport LoginScreen from './src/screens/LoginScreen';\nimport HomeScreen from './src/screens/HomeScreen';\nimport AttendanceScreen from './src/screens/AttendanceScreen';\nimport NotificationsScreen from './src/screens/NotificationsScreen';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Stack = createNativeStackNavigator();\nfunction AppNavigator() {\n  const {\n    user,\n    userData,\n    loading\n  } = useAuth();\n  useEffect(() => {\n    if (userData && userData.role !== 'student') {\n      Alert.alert('Access Restricted', 'This mobile app is for students only. Teachers and admins should use the web portal.', [{\n        text: 'OK'\n      }]);\n    }\n  }, [userData]);\n  if (loading) {\n    return null;\n  }\n  if (user && userData && userData.role !== 'student') {\n    return _jsxDEV(Stack.Navigator, {\n      children: _jsxDEV(Stack.Screen, {\n        name: \"Login\",\n        component: LoginScreen,\n        options: {\n          headerShown: false\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this);\n  }\n  return _jsxDEV(Stack.Navigator, {\n    children: !user ? _jsxDEV(Stack.Screen, {\n      name: \"Login\",\n      component: LoginScreen,\n      options: {\n        headerShown: false\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this) : _jsxDEV(_Fragment, {\n      children: [_jsxDEV(Stack.Screen, {\n        name: \"Home\",\n        component: HomeScreen,\n        options: {\n          headerShown: false\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), _jsxDEV(Stack.Screen, {\n        name: \"Attendance\",\n        component: AttendanceScreen,\n        options: {\n          title: 'Attendance History',\n          headerStyle: {\n            backgroundColor: '#667eea'\n          },\n          headerTintColor: '#fff',\n          headerTitleStyle: {\n            fontWeight: 'bold'\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), _jsxDEV(Stack.Screen, {\n        name: \"Notifications\",\n        component: NotificationsScreen,\n        options: {\n          title: 'Notifications',\n          headerStyle: {\n            backgroundColor: '#667eea'\n          },\n          headerTintColor: '#fff',\n          headerTitleStyle: {\n            fontWeight: 'bold'\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\nexport default function App() {\n  return _jsxDEV(AuthProvider, {\n    children: _jsxDEV(NavigationContainer, {\n      children: _jsxDEV(AppNavigator, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"names":["React","useEffect","NavigationContainer","createNativeStackNavigator","Alert","AuthProvider","useAuth","auth","LoginScreen","HomeScreen","AttendanceScreen","NotificationsScreen","jsxDEV","_jsxDEV","Fragment","_Fragment","Stack","AppNavigator","user","userData","loading","role","alert","text","Navigator","children","Screen","name","component","options","headerShown","fileName","_jsxFileName","lineNumber","columnNumber","title","headerStyle","backgroundColor","headerTintColor","headerTitleStyle","fontWeight","App"],"sources":["C:/Users/Vincent/Desktop/attendance-system/mobile/App.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { Alert } from 'react-native';\nimport { AuthProvider, useAuth } from './src/contexts/AuthContext';\nimport { auth } from './src/services/firebase';\n\nimport LoginScreen from './src/screens/LoginScreen';\nimport HomeScreen from './src/screens/HomeScreen';\nimport AttendanceScreen from './src/screens/AttendanceScreen';\nimport NotificationsScreen from './src/screens/NotificationsScreen';\n\nconst Stack = createNativeStackNavigator();\n\nfunction AppNavigator() {\n  const { user, userData, loading } = useAuth();\n\n  useEffect(() => {\n    // Check if non-student tries to access mobile app\n    if (userData && userData.role !== 'student') {\n      Alert.alert(\n        'Access Restricted',\n        'This mobile app is for students only. Teachers and admins should use the web portal.',\n        [{ text: 'OK' }]\n      );\n    }\n  }, [userData]);\n\n  if (loading) {\n    return null; // or a loading screen\n  }\n\n  // Block non-students from accessing the app\n  if (user && userData && userData.role !== 'student') {\n    return (\n      <Stack.Navigator>\n        <Stack.Screen \n          name=\"Login\" \n          component={LoginScreen}\n          options={{ headerShown: false }}\n        />\n      </Stack.Navigator>\n    );\n  }\n\n  return (\n    <Stack.Navigator>\n      {!user ? (\n        <Stack.Screen \n          name=\"Login\" \n          component={LoginScreen}\n          options={{ headerShown: false }}\n        />\n      ) : (\n        <>\n          <Stack.Screen \n            name=\"Home\" \n            component={HomeScreen}\n            options={{ headerShown: false }}\n          />\n          <Stack.Screen \n            name=\"Attendance\" \n            component={AttendanceScreen}\n            options={{\n              title: 'Attendance History',\n              headerStyle: { backgroundColor: '#667eea' },\n              headerTintColor: '#fff',\n              headerTitleStyle: { fontWeight: 'bold' },\n            }}\n          />\n          <Stack.Screen \n            name=\"Notifications\" \n            component={NotificationsScreen}\n            options={{\n              title: 'Notifications',\n              headerStyle: { backgroundColor: '#667eea' },\n              headerTintColor: '#fff',\n              headerTitleStyle: { fontWeight: 'bold' },\n            }}\n          />\n        </>\n      )}\n    </Stack.Navigator>\n  );\n}\n\nexport default function App() {\n  return (\n    <AuthProvider>\n      <NavigationContainer>\n        <AppNavigator />\n      </NavigationContainer>\n    </AuthProvider>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}